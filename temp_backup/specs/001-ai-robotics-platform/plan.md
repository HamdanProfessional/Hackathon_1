# Implementation Plan: Physical AI & Humanoid Robotics Textbook Platform

**Branch**: `001-ai-robotics-platform` | **Date**: 2025-11-30 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `specs/001-ai-robotics-platform/spec.md`

## Summary
This plan outlines the technical approach for building the Physical AI & Humanoid Robotics Textbook Platform. The goal is to create a personalized, interactive learning experience based on content from `course_syllabus.md`. The platform will feature user-specific content adaptation, a RAG-based chatbot, and a clear separation of services for authentication, content API, and web frontend, all adhering to the project constitution.

## Technical Context
**Language/Version**: Python 3.10+, Node.js (LTS), TypeScript
**Primary Dependencies**: FastAPI, Docusaurus (React), `better-auth`, `openai-agents` SDK, Qdrant client, Neon Postgres client
**Storage**: Neon Postgres (for user data), Qdrant Cloud (for vector embeddings)
**Testing**: Pytest (backend), Jest & React Testing Library (frontend)
**Target Platform**: Vercel (for `/web` frontend), Render (for `/api` and `/auth` services)
**Project Type**: Web application (Monorepo)
**Performance Goals**: p95 latency for the `/personalize` endpoint must be under 3 seconds.
**Constraints**: Deployment must not use Docker. Translation must be static (pre-generated files).
**Scale/Scope**: <100 concurrent users, ~50 Markdown chapters.

## Constitution Check
*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- [X] **Principle I: Tech Stack & Architecture**
  - [X] Does the plan adhere to the monorepo structure (`/web`, `/api`, `/auth`)?
  - [X] Is the frontend built with Docusaurus (React/TS)?
  - [X] Is the backend built with FastAPI (Python 3.10+)?
  - [X] Is auth handled by `better-auth` (Node.js/TypeScript) + Neon Postgres?
  - [X] Does the vector DB used is Qdrant Cloud?
  - [X] Is the AI engine the `openai-agents` SDK (Python)?
- [X] **Principle II: Core Functionality Rules**
  - [X] Is translation handled statically (`/docs/en/` and `/docs/ur/`)?
  - [X] Is personalization implemented via the `/api/personalize` endpoint?
  - [X] Does the chatbot use the `openai-agents` `Agent` class with a `search_textbook` tool?
- [X] **Principle III: Configuration**
  - [X] Are secrets loaded strictly from `.env`?
  - [X] Is the `AsyncOpenAI` client initialized with `base_url` for Gemini and `api_key` from env?
  - [X] Does the deployment plan avoid Docker, targeting Vercel (Web) and Render (API/Auth)?

## Project Structure

### Documentation (this feature)
```text
specs/001-ai-robotics-platform/
├── plan.md              # This file
├── research.md          # To be generated
├── data-model.md        # To be generated
├── quickstart.md        # To be generated
├── contracts/           # To be generated
│   └── api.yaml
└── tasks.md             # To be generated by /sp.tasks
```

### Source Code (repository root)
```text
.
├── api/
│   ├── src/
│   │   ├── agent.py
│   │   ├── main.py
│   │   └── services/
│   └── tests/
├── auth/
│   ├── src/
│   │   └── index.ts
│   └── tests/
├── web/
│   ├── src/
│   │   ├── components/
│   │   │   ├── PersonalizeBtn.tsx
│   │   │   ├── LangSwitch.tsx
│   │   │   └── ChatWidget.tsx
│   │   └── theme/Layout.tsx
│   ├── docs/
│   │   ├── en/
│   │   └── ur/
│   └── docusaurus.config.js
├── scripts/
│   ├── ingest.py
│   └── validate_links.py
└── .env
```

**Structure Decision**: The project will use a monorepo structure as defined in the constitution. The `web` directory will contain the Docusaurus frontend, `api` will contain the Python FastAPI backend, and `auth` will contain the Node.js authentication service. This aligns with the principle of service separation while maintaining a single repository for simplified management.

## Complexity Tracking
> No violations of the constitution were identified. This section is not required.